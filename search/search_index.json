{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"FastAPI Assets Documentation","text":"<p>FastAPI Assets is a powerful, production-ready validation and assertion toolkit designed specifically for FastAPI applications. It simplifies the process of validating file uploads and request metadata, ensuring that your application handles user input securely and efficiently.</p>"},{"location":"#overview","title":"Overview","text":"<p>FastAPI Assets provides a comprehensive suite of validators that integrate seamlessly with FastAPI's dependency injection system. Whether you're validating file uploads, image files, CSV data, or request parameters, FastAPI Assets provides intuitive, type-safe APIs that make validation simple and robust.</p>"},{"location":"#why-fastapi-assets","title":"Why FastAPI Assets?","text":"<ul> <li>Security First: Built with security best practices to prevent common vulnerabilities</li> <li>Performance Optimized: Efficient streaming validation that doesn't load entire files into memory</li> <li>Type Safe: Full type hints and modern Python support for better IDE integration</li> <li>Modular Design: Use only what you need - validators are independent and composable</li> <li>Well Documented: Comprehensive API documentation and practical examples</li> <li>Thoroughly Tested: Extensive test coverage ensures reliability</li> <li>Extensible: Easily add custom validators and extend functionality</li> </ul>"},{"location":"#key-features","title":"Key Features","text":""},{"location":"#file-validation","title":"File Validation","text":"<ul> <li>Validate file size with flexible size format support (e.g., \"10MB\", \"1KB\")</li> <li>Check MIME types with wildcard pattern support</li> <li>Validate filename patterns with regex</li> <li>Efficient streaming for large files</li> </ul>"},{"location":"#image-validation","title":"Image Validation","text":"<ul> <li>Inherit all file validation capabilities</li> <li>Verify image format and integrity using Pillow</li> <li>Validate image dimensions (width and height)</li> <li>Check aspect ratios</li> <li>Support for multiple image formats (JPEG, PNG, GIF, WebP, BMP, TIFF)</li> </ul>"},{"location":"#csv-validation","title":"CSV Validation","text":"<ul> <li>All file validation features</li> <li>Schema validation (required/disallowed columns)</li> <li>Encoding validation</li> <li>Row count constraints</li> <li>Delimiter customization</li> <li>Header verification</li> <li>Efficient header-only checks</li> </ul>"},{"location":"#request-parameter-validation","title":"Request Parameter Validation","text":"<ul> <li>Query Validators: Validate query strings with allowed values and constraints</li> <li>Header Validators: Validate HTTP headers </li> <li>Cookie Validators: Validate cookie values</li> <li>Path Validators: Validate path segments with custom rules</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":""},{"location":"#installation","title":"Installation","text":"<pre><code>pip install fastapi-assets\n</code></pre> <p>For extended functionality:</p> <pre><code>pip install fastapi-assets[image,pandas]\n</code></pre>"},{"location":"#basic-file-upload-validation","title":"Basic File Upload Validation","text":"<pre><code>from fastapi import FastAPI, UploadFile, Depends\nfrom fastapi_assets.validators import FileValidator\n\napp = FastAPI()\n\n# Create a file validator\nfile_validator = FileValidator(\n    max_size=\"10MB\",\n    min_size=\"1KB\",\n    content_types=[\"image/jpeg\", \"image/png\"]\n)\n\n@app.post(\"/upload/\")\nasync def upload_file(file: UploadFile = Depends(file_validator)):\n    return {\n        \"filename\": file.filename,\n        \"size\": file.size,\n        \"content_type\": file.content_type\n    }\n</code></pre>"},{"location":"#documentation","title":"Documentation","text":"<ul> <li>Getting Started - Installation, setup, and basic usage patterns</li> <li>API Reference - Complete API documentation for all validators</li> <li>Examples - Real-world usage examples and best practices</li> <li>Contributing - Guidelines for contributing to the project</li> </ul>"},{"location":"#project-structure","title":"Project Structure","text":"<pre><code>fastapi-assets/\n\u251c\u2500\u2500 fastapi_assets/\n\u2502   \u251c\u2500\u2500 core/              # Core validation framework\n\u2502   \u251c\u2500\u2500 validators/        # File, image, and CSV validators\n\u2502   \u2514\u2500\u2500 request_validators/# Query, header, cookie, path validators\n\u251c\u2500\u2500 tests/                 # Comprehensive test suite\n\u251c\u2500\u2500 docs/                  # Documentation\n\u2514\u2500\u2500 pyproject.toml         # Project configuration\n</code></pre>"},{"location":"#requirements","title":"Requirements","text":"<ul> <li>Python 3.10+</li> <li>FastAPI 0.115.0+</li> </ul>"},{"location":"#optional-dependencies","title":"Optional Dependencies","text":"<ul> <li>image: Pillow 12.0.0+ for image validation</li> <li>pandas: Pandas 2.3.3+ for CSV validation</li> </ul>"},{"location":"#support","title":"Support","text":"<p>For issues, questions, or contributions, please visit the GitHub repository.</p>"},{"location":"CODE_OF_CONDUCT/","title":"Contributor Covenant Code of Conduct","text":""},{"location":"CODE_OF_CONDUCT/#our-pledge","title":"Our Pledge","text":"<p>In the interest of fostering an open and welcoming environment, we as contributors and maintainers pledge to make participation in our project and our community a harassment-free experience for everyone, regardless of age, body size, disability, ethnicity, sex characteristics, gender identity and expression, level of experience, education, socio-economic status, nationality, personal appearance, race, religion, or sexual identity and orientation.</p>"},{"location":"CODE_OF_CONDUCT/#our-standards","title":"Our Standards","text":"<p>Examples of behavior that contributes to creating a positive environment include:</p> <ul> <li>Using welcoming and inclusive language</li> <li>Being respectful of differing viewpoints and experiences</li> <li>Gracefully accepting constructive criticism</li> <li>Focusing on what is best for the community</li> <li>Showing empathy towards other community members</li> </ul> <p>Examples of unacceptable behavior by participants include:</p> <ul> <li>The use of sexualized language or imagery and unwelcome sexual attention or advances</li> <li>Trolling, insulting/derogatory comments, and personal or political attacks</li> <li>Public or private harassment</li> <li>Publishing others' private information, such as a physical or electronic address, without explicit permission</li> <li>Other conduct which could reasonably be considered inappropriate in a professional setting</li> </ul>"},{"location":"CODE_OF_CONDUCT/#our-responsibilities","title":"Our Responsibilities","text":"<p>Project maintainers are responsible for clarifying the standards of acceptable behavior and are expected to take appropriate and fair corrective action in response to any instances of unacceptable behavior.</p> <p>Project maintainers have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, or to ban temporarily or permanently any contributor for other behaviors that they deem inappropriate, threatening, offensive, or harmful.</p>"},{"location":"CODE_OF_CONDUCT/#scope","title":"Scope","text":"<p>This Code of Conduct applies within all project spaces, and it also applies when an individual is representing the project or its community in public spaces. Examples of representing a project or community include using an official project e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event. Representation of a project may be further defined and clarified by project maintainers.</p>"},{"location":"CODE_OF_CONDUCT/#enforcement","title":"Enforcement","text":"<p>Instances of abusive, harassing, or otherwise unacceptable behavior may be reported by contacting the project maintainer using any of the private contact addresses. All complaints will be reviewed and investigated and will result in a response that is deemed necessary and appropriate to the circumstances. The project team is obligated to maintain confidentiality with regard to the reporter of an incident. Further details of specific enforcement policies may be posted separately.</p> <p>Project maintainers who do not follow or enforce the Code of Conduct in good faith may face temporary or permanent repercussions as determined by other members of the project's leadership.</p>"},{"location":"CODE_OF_CONDUCT/#attribution","title":"Attribution","text":"<p>This Code of Conduct is adapted from the Contributor Covenant, version 1.4, available at https://www.contributor-covenant.org/version/1/4/code-of-conduct.html</p> <p>For answers to common questions about this code of conduct, see https://www.contributor-covenant.org/faq</p>"},{"location":"CONTRIBUTING/","title":"Contributing to FastAPI Assets","text":"<p>Thank you for your interest in contributing to FastAPI Assets! We welcome contributions from the community to help improve and expand this project. Whether you're fixing bugs, adding new features, or improving documentation, your contributions are valuable.</p>"},{"location":"CONTRIBUTING/#reporting-bugs","title":"Reporting Bugs","text":"<p>Before creating bug reports, check the issue list. When creating a bug report, include:</p> <ul> <li>Use a clear descriptive title</li> <li>Describe the exact steps to reproduce the problem</li> <li>Provide specific examples to demonstrate the steps</li> <li>Describe the behavior you observed and what the problem is</li> <li>Explain which behavior you expected to see instead</li> <li>Include Python version, FastAPI Assets version, and OS information</li> <li>Include relevant error messages and stack traces</li> </ul>"},{"location":"CONTRIBUTING/#suggesting-enhancements","title":"Suggesting Enhancements","text":"<p>Enhancement suggestions are tracked as GitHub issues. When creating an enhancement suggestion, include:</p> <ul> <li>Use a clear descriptive title</li> <li>Provide a step-by-step description of the suggested enhancement</li> <li>Provide specific examples to demonstrate the steps</li> <li>Describe the current behavior and expected behavior</li> <li>Explain why this enhancement would be useful</li> </ul>"},{"location":"CONTRIBUTING/#pull-requests","title":"Pull Requests","text":"<ul> <li>Fill in the required template</li> <li>Include appropriate test cases</li> <li>Update documentation and examples</li> <li>End all files with a newline</li> </ul>"},{"location":"CONTRIBUTING/#development-setup","title":"Development Setup","text":""},{"location":"CONTRIBUTING/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.10 or higher</li> <li>Git</li> <li>pip</li> </ul>"},{"location":"CONTRIBUTING/#setting-up-development-environment","title":"Setting Up Development Environment","text":"<ol> <li>Fork the repository</li> </ol> <pre><code># Go to the GitHub repository and click \"Fork\"\n</code></pre> <ol> <li>Clone your fork</li> </ol> <pre><code>git clone https://github.com/YOUR_USERNAME/fastapi-assets.git\ncd fastapi-assets\n</code></pre> <ol> <li>Create a virtual environment</li> </ol> <pre><code>python -m venv venv\n\n# Activate virtual environment\n# On Windows:\nvenv\\Scripts\\activate\n# On Unix/macOS:\nsource venv/bin/activate\n</code></pre> <ol> <li>Install dependencies with development extras</li> </ol> <pre><code>pip install -e \".[dev,image,pandas]\"\n</code></pre> <ol> <li>Create a feature branch</li> </ol> <pre><code>git checkout -b feature/your-feature-name\n</code></pre>"},{"location":"CONTRIBUTING/#development-workflow","title":"Development Workflow","text":""},{"location":"CONTRIBUTING/#code-style","title":"Code Style","text":"<p>FastAPI Assets uses: - Ruff for linting and formatting - MyPy for type checking - Pytest for testing</p>"},{"location":"CONTRIBUTING/#running-linting","title":"Running Linting","text":"<pre><code>ruff check fastapi_assets tests\nruff format fastapi_assets tests\n</code></pre>"},{"location":"CONTRIBUTING/#running-type-checks","title":"Running Type Checks","text":"<pre><code>mypy fastapi_assets\n</code></pre>"},{"location":"CONTRIBUTING/#running-tests","title":"Running Tests","text":"<pre><code>pytest\npytest --cov=fastapi_assets\npytest tests/test_file_validator.py -v\n</code></pre>"},{"location":"CONTRIBUTING/#making-changes","title":"Making Changes","text":"<ol> <li>Create a feature branch</li> <li>Make your changes with type hints and docstrings</li> <li>Format your code with ruff</li> <li>Run tests to ensure everything passes</li> <li>Run type checks with mypy</li> <li>Commit with clear messages following conventional commits</li> <li>Push to your fork</li> <li>Create a pull request</li> </ol>"},{"location":"CONTRIBUTING/#code-of-conduct","title":"Code of Conduct","text":"<p>By participating in this project, you agree to abide by the Contributor Covenant Code of Conduct.</p>"},{"location":"api-reference/","title":"API Reference","text":"<p>Complete API documentation for FastAPI Assets validators and utilities.</p>"},{"location":"api-reference/#core-module","title":"Core Module","text":""},{"location":"api-reference/#basevalidator","title":"BaseValidator","text":"<p>Module: <code>fastapi_assets.core.base_validator</code></p> <p>Abstract base class for all validators in FastAPI Assets. Provides standardized error handling and HTTP exception raising.</p>"},{"location":"api-reference/#class-definition","title":"Class Definition","text":"<pre><code>class BaseValidator(abc.ABC):\n    \"\"\"Abstract base class for creating reusable FastAPI validation dependencies.\"\"\"\n</code></pre>"},{"location":"api-reference/#parameters","title":"Parameters","text":"<ul> <li>status_code (int, default: 400): HTTP status code to return on validation failure</li> <li>error_detail (Union[str, Callable], default: \"Validation failed.\"): Error message or callable that generates error messages</li> <li>validators (Optional[List[Callable]], default: None): List of custom validation functions</li> </ul>"},{"location":"api-reference/#methods","title":"Methods","text":""},{"location":"api-reference/#_raise_error","title":"<code>_raise_error()</code>","text":"<p>Raises a standardized HTTPException with resolved error detail.</p> <pre><code>def _raise_error(\n    self,\n    value: Optional[Any] = None,\n    status_code: Optional[int] = None,\n    detail: Optional[Union[str, Callable[[Any], str]]] = None,\n) -&gt; None:\n    \"\"\"Raises HTTPException with validated error message.\"\"\"\n</code></pre> <p>Parameters: - <code>value</code>: The value that failed validation - <code>status_code</code>: Override default status code - <code>detail</code>: Override default error detail</p> <p>Raises: <code>HTTPException</code> with resolved status code and detail</p>"},{"location":"api-reference/#validationerror","title":"ValidationError","text":"<p>Module: <code>fastapi_assets.core.exceptions</code></p> <p>Custom exception raised by validators during validation logic.</p> <pre><code>class ValidationError(Exception):\n    \"\"\"Raised when validation logic fails.\"\"\"\n\n    def __init__(\n        self,\n        detail: str,\n        status_code: int = 400\n    ):\n        self.detail = detail\n        self.status_code = status_code\n</code></pre>"},{"location":"api-reference/#file-validators","title":"File Validators","text":""},{"location":"api-reference/#filevalidator","title":"FileValidator","text":"<p>Module: <code>fastapi_assets.validators.file_validator</code></p> <p>General-purpose validator for file uploads with size, MIME type, and filename validation.</p>"},{"location":"api-reference/#class-definition_1","title":"Class Definition","text":"<pre><code>class FileValidator(BaseValidator):\n    \"\"\"Validates UploadFile objects for size, MIME type, and filename patterns.\"\"\"\n</code></pre>"},{"location":"api-reference/#parameters_1","title":"Parameters","text":"<ul> <li>max_size (Optional[Union[str, int]], default: None): Maximum file size (e.g., \"10MB\", 1024)</li> <li>min_size (Optional[Union[str, int]], default: None): Minimum file size (e.g., \"1KB\")</li> <li>content_types (Optional[List[str]], default: None): Allowed MIME types with wildcard support</li> <li>filename_pattern (Optional[str], default: None): Regex pattern for filename validation</li> <li>on_size_error_detail (Optional[Union[str, Callable]], default: None): Custom error message for size validation</li> <li>on_type_error_detail (Optional[Union[str, Callable]], default: None): Custom error message for content type</li> <li>on_filename_error_detail (Optional[Union[str, Callable]], default: None): Custom error message for filename</li> <li>status_code (int, default: 400): HTTP status code on validation failure</li> <li>error_detail (Union[str, Callable], default: \"Validation failed\"): Default error message</li> <li>validators (Optional[List[Callable]], default: None): List of custom validators</li> </ul>"},{"location":"api-reference/#size-format-support","title":"Size Format Support","text":"Format Example Bytes Bytes <code>\"1024\"</code> or <code>\"1024B\"</code> 1024 Kilobytes <code>\"5KB\"</code> or <code>\"5 KB\"</code> 5120 Megabytes <code>\"10MB\"</code> or <code>\"10 MB\"</code> 10485760 Gigabytes <code>\"1GB\"</code> or <code>\"1 GB\"</code> 1073741824 Terabytes <code>\"1TB\"</code> or <code>\"1 TB\"</code> 1099511627776"},{"location":"api-reference/#mime-type-wildcards","title":"MIME Type Wildcards","text":"Pattern Matches <code>\"image/*\"</code> All image types (jpeg, png, gif, etc.) <code>\"text/*\"</code> All text types (plain, html, css, etc.) <code>\"application/*\"</code> All application types <code>\"image/jpeg\"</code> Specific MIME type only"},{"location":"api-reference/#imagevalidator","title":"ImageValidator","text":"<p>Module: <code>fastapi_assets.validators.image_validator</code></p> <p>Specialized validator for image files with format, dimensions, and aspect ratio validation.</p>"},{"location":"api-reference/#parameters_2","title":"Parameters","text":"<p>Inherits all FileValidator parameters plus:</p> <ul> <li>allowed_formats (Optional[List[str]], default: None): Allowed image formats (e.g., [\"JPEG\", \"PNG\"])</li> <li>min_resolution (Optional[Tuple[int, int]], default: None): Minimum image resolution (width, height)</li> <li>max_resolution (Optional[Tuple[int, int]], default: None): Maximum image resolution (width, height)</li> <li>aspect_ratios (Optional[List[str]], default: None): Allowed aspect ratios (e.g., [\"1:1\", \"16:9\"])</li> <li>on_format_error_detail (Optional[Union[str, Callable]], default: None): Custom error for format</li> <li>on_dimension_error_detail (Optional[Union[str, Callable]], default: None): Custom error for dimensions</li> <li>on_aspect_ratio_error_detail (Optional[Union[str, Callable]], default: None): Custom error for aspect ratio</li> </ul>"},{"location":"api-reference/#supported-formats","title":"Supported Formats","text":"<ul> <li>JPEG / JPG</li> <li>PNG</li> <li>GIF</li> <li>WebP</li> <li>BMP</li> <li>TIFF</li> </ul>"},{"location":"api-reference/#csvvalidator","title":"CSVValidator","text":"<p>Module: <code>fastapi_assets.validators.csv_validator</code></p> <p>Specialized validator for CSV files with schema, encoding, and row count validation.</p> <p>Requirements: Install with <code>pip install fastapi-assets[pandas]</code></p>"},{"location":"api-reference/#parameters_3","title":"Parameters","text":"<p>Inherits all FileValidator parameters plus:</p> <ul> <li>encoding (Optional[Union[str, List[str]]], default: None): Allowed encoding(s) for CSV</li> <li>delimiter (Optional[str], default: None): CSV delimiter character</li> <li>required_columns (Optional[List[str]], default: None): Columns that must exist</li> <li>disallowed_columns (Optional[List[str]], default: None): Columns that must not exist</li> <li>min_rows (Optional[int], default: None): Minimum number of data rows</li> <li>max_rows (Optional[int], default: None): Maximum number of data rows</li> <li>header_check_only (bool, default: False): Only validate headers without checking all rows</li> <li>on_encoding_error_detail (Optional[Union[str, Callable]], default: None): Custom encoding error</li> <li>on_columns_error_detail (Optional[Union[str, Callable]], default: None): Custom columns error</li> <li>on_rows_error_detail (Optional[Union[str, Callable]], default: None): Custom rows error</li> </ul>"},{"location":"api-reference/#request-validators","title":"Request Validators","text":""},{"location":"api-reference/#queryvalidator","title":"QueryValidator","text":"<p>Module: <code>fastapi_assets.request_validators.query_validator</code></p> <p>Validator for FastAPI query parameters with support for allowed values and constraints.</p>"},{"location":"api-reference/#parameters_4","title":"Parameters","text":"<ul> <li>param_name (str): Name of the query parameter</li> <li>_type (type, default: str): Parameter type (int, str, float, bool, etc.)</li> <li>default (Optional[Any], default: None): Default value if parameter is missing</li> <li>allowed_values (Optional[List[Any]], default: None): List of allowed values</li> <li>pattern (Optional[str], default: None): Regex pattern for string validation</li> <li>ge (Optional[Union[int, float]], default: None): Greater than or equal to</li> <li>le (Optional[Union[int, float]], default: None): Less than or equal to</li> <li>gt (Optional[Union[int, float]], default: None): Greater than</li> <li>lt (Optional[Union[int, float]], default: None): Less than</li> <li>error_detail (Union[str, Callable], default: \"Validation failed\"): Error message</li> <li>status_code (int, default: 400): HTTP status code on validation failure</li> </ul>"},{"location":"api-reference/#headervalidator","title":"HeaderValidator","text":"<p>Module: <code>fastapi_assets.request_validators.header_validator</code></p> <p>Comprehensive validator for HTTP headers with pattern matching, format validation, allowed values, and custom validators. Extends FastAPI's <code>Header</code> dependency with granular error control.</p>"},{"location":"api-reference/#class-definition_2","title":"Class Definition","text":"<pre><code>class HeaderValidator(BaseValidator):\n    \"\"\"\n    A dependency for validating HTTP headers with extended rules.\n\n    Provides pattern matching, format validation, allowed values,\n    and custom validators with fine-grained error messages.\n    \"\"\"\n</code></pre>"},{"location":"api-reference/#parameters_5","title":"Parameters","text":"<ul> <li>default (Any, default: Undefined): Default value if header is missing. If not provided, header is required.</li> <li>alias (Optional[str], default: None): The actual header name to extract (e.g., \"X-API-Key\", \"Authorization\")</li> <li>convert_underscores (bool, default: True): If True, underscores in parameter name convert to hyphens in header name</li> <li>pattern (Optional[str], default: None): Regex pattern that header value must match (cannot be used with <code>format</code>)</li> <li>format (Optional[str], default: None): Predefined format name for validation</li> <li>allowed_values (Optional[List[str]], default: None): List of exact string values allowed for the header</li> <li>validators (Optional[List[Callable]], default: None): List of custom validation functions (sync or async)</li> <li>title (Optional[str], default: None): Title for the header in OpenAPI documentation</li> <li>description (Optional[str], default: None): Description for the header in OpenAPI documentation</li> <li>on_required_error_detail (str, default: \"Required header is missing.\"): Error message if header is missing</li> <li>on_pattern_error_detail (str, default: \"Header has an invalid format.\"): Error message if pattern/format fails</li> <li>on_allowed_values_error_detail (str, default: \"Header value is not allowed.\"): Error message if value not in allowed list</li> <li>on_custom_validator_error_detail (str, default: \"Header failed custom validation.\"): Error message if custom validator fails</li> <li>status_code (int, default: 400): HTTP status code for validation errors</li> <li>error_detail (str, default: \"Header Validation Failed\"): Generic fallback error message</li> </ul>"},{"location":"api-reference/#cookievalidator","title":"CookieValidator","text":"<p>Module: <code>fastapi_assets.request_validators.cookie_validator</code></p> <p>Validator for cookie values with pattern matching and constraints.</p>"},{"location":"api-reference/#parameters_6","title":"Parameters","text":"<ul> <li>alias (str): Name of the cookie to validate</li> <li>pattern (Optional[str], default: None): Regex pattern for cookie value</li> <li>error_detail (Union[str, Callable], default: \"Validation failed\"): Error message</li> <li>status_code (int, default: 400): HTTP status code on validation failure</li> </ul>"},{"location":"api-reference/#pathvalidator","title":"PathValidator","text":"<p>Module: <code>fastapi_assets.request_validators.path_validator</code></p> <p>Validator for path parameters with type conversion and pattern matching.</p>"},{"location":"api-reference/#parameters_7","title":"Parameters","text":"<ul> <li>param_name (str): Name of the path parameter</li> <li>_type (type, default: str): Parameter type</li> <li>pattern (Optional[str], default: None): Regex pattern for validation</li> <li>error_detail (Union[str, Callable], default: \"Validation failed\"): Error message</li> <li>status_code (int, default: 400): HTTP status code on validation failure</li> </ul>"},{"location":"api-reference/#exceptions","title":"Exceptions","text":""},{"location":"api-reference/#validationerror_1","title":"ValidationError","text":"<p>The <code>ValidationError</code> exception is raised when a validation check fails. It provides details about the nature of the validation failure, allowing developers to handle errors gracefully in their applications.</p>"},{"location":"custom_validators/","title":"Custom Validators","text":"<p>FastAPI Assets allows you to create custom validators by extending the base validator classes. This enables you to implement specific validation logic tailored to your application's needs. You can also create custom validation functions to be used with existing validators. Let's explore how to create and use custom validators.</p>"},{"location":"custom_validators/#creating-a-custom-file-validator","title":"Creating a Custom File Validator","text":"<p>To create a custom file validator, you can subclass the <code>FileValidator</code> and override the <code>validate</code> method to include your custom logic. Here's an example of a custom file validator that checks for a specific filename pattern:</p> <pre><code>import re\nfrom fastapi_assets.validators import FileValidator\nclass CustomFileValidator(FileValidator):\n    def __init__(self, filename_pattern: str, **kwargs):\n        super().__init__(**kwargs)\n        self.filename_pattern = re.compile(filename_pattern)\n\n    async def validate(self, file):\n        await super().validate(file)  # Perform standard validations\n        if not self.filename_pattern.match(file.filename):\n            raise ValueError(f\"Filename '{file.filename}' does not match the required pattern.\")\n</code></pre> <p>You can then use this custom validator in your FastAPI routes:</p> <pre><code>from fastapi import FastAPI, UploadFile, Depends\napp = FastAPI()\ncustom_validator = CustomFileValidator(\n    filename_pattern=r\"^[\\w\\s-]+\\.(jpg|jpeg|png|gif)$\",\n    max_size=\"5MB\",\n    content_types=[\"image/jpeg\", \"image/png\", \"image/gif\"]\n)\n@app.post(\"/upload/custom/\")\nasync def upload_custom_file(file: UploadFile = Depends(custom_validator)):\n    return {\"filename\": file.filename, \"size\": file.size}\n</code></pre>"},{"location":"custom_validators/#creating-a-custom-validation-function","title":"Creating a Custom Validation Function","text":"<p>You can also create custom validation functions that can be passed to existing validators. For example, let's create a custom function to validate that a file's size is an exact multiple of 1024 bytes:</p> <pre><code>from fastapi_assets.validators import FileValidator\nfrom fastapi_assets.core import ValidationError\ndef exact_multiple_of_1024(file):\n    if file.size % 1024 != 0:\n        raise ValidationError(\"File size must be an exact multiple of 1024 bytes.\")\nfile_validator = FileValidator(\n    max_size=\"10MB\",\n    content_types=[\"application/octet-stream\"],\n    validators=[exact_multiple_of_1024]\n)\n</code></pre> <p>You can then use this validator in your FastAPI routes:</p> <pre><code>from fastapi import FastAPI, UploadFile, Depends\napp = FastAPI()\n@app.post(\"/upload/exact-multiple/\")\nasync def upload_exact_multiple_file(file: UploadFile = Depends(file_validator)):\n    return {\"filename\": file.filename, \"size\": file.size}\n</code></pre>"},{"location":"custom_validators/#summary","title":"Summary","text":"<p>Creating custom validators in FastAPI Assets allows you to implement specific validation logic that suits your application's requirements. By subclassing existing validators or creating custom validation functions, you can enhance the validation capabilities of your FastAPI applications.</p>"},{"location":"custom_validators/#contributing-to-fastapi-assets","title":"Contributing to FastAPI Assets","text":"<p>Thank you for your interest in contributing to FastAPI Assets! We welcome contributions from the community to help improve and expand this project. Whether you're fixing bugs, adding new features, or improving documentation, your contributions are valuable.</p>"},{"location":"examples/","title":"Examples &amp; Use Cases","text":"<p>This document provides practical examples demonstrating how to use FastAPI Assets in real-world scenarios.</p>"},{"location":"examples/#table-of-contents","title":"Table of Contents","text":"<ol> <li>File Upload Examples</li> <li>Image Processing</li> <li>CSV Import</li> <li>Request Parameter Validation</li> <li>Error Handling</li> <li>Advanced Patterns</li> </ol>"},{"location":"examples/#file-upload-examples","title":"File Upload Examples","text":""},{"location":"examples/#basic-file-upload","title":"Basic File Upload","text":"<p>Simple file upload with size and type validation:</p> <pre><code>from fastapi import FastAPI, UploadFile, Depends\nfrom fastapi_assets.validators import FileValidator\n\napp = FastAPI()\n\n# Create a simple file validator\nfile_validator = FileValidator(\n    max_size=\"10MB\",\n    content_types=[\"application/pdf\"]\n)\n\n@app.post(\"/upload/pdf/\")\nasync def upload_pdf(file: UploadFile = Depends(file_validator)):\n    \"\"\"Upload a PDF file.\"\"\"\n    return {\n        \"filename\": file.filename,\n        \"content_type\": file.content_type,\n        \"size\": file.size\n    }\n</code></pre>"},{"location":"examples/#multiple-file-type-support","title":"Multiple File Type Support","text":"<p>Accepting multiple file types with different validators:</p> <pre><code>from fastapi import FastAPI, UploadFile, Depends\nfrom fastapi_assets.validators import FileValidator\n\napp = FastAPI()\n\n# PDF validator\npdf_validator = FileValidator(\n    max_size=\"20MB\",\n    content_types=[\"application/pdf\"]\n)\n\n# Image validator\nimage_validator = FileValidator(\n    max_size=\"5MB\",\n    content_types=[\"image/jpeg\", \"image/png\", \"image/gif\"]\n)\n\n# Document validator\ndoc_validator = FileValidator(\n    max_size=\"15MB\",\n    content_types=[\n        \"application/msword\",\n        \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\"\n    ]\n)\n\n@app.post(\"/upload/document/\")\nasync def upload_document(file: UploadFile = Depends(pdf_validator)):\n    return {\"type\": \"pdf\", \"filename\": file.filename}\n\n@app.post(\"/upload/image/\")\nasync def upload_image(file: UploadFile = Depends(image_validator)):\n    return {\"type\": \"image\", \"filename\": file.filename}\n\n@app.post(\"/upload/document-word/\")\nasync def upload_word_document(file: UploadFile = Depends(doc_validator)):\n    return {\"type\": \"word\", \"filename\": file.filename}\n</code></pre>"},{"location":"examples/#filename-validation","title":"Filename Validation","text":"<p>Validating filenames with regex patterns:</p> <pre><code>from fastapi_assets.validators import FileValidator\n\n# Only allow alphanumeric filenames with specific extensions\nstrict_filename_validator = FileValidator(\n    max_size=\"5MB\",\n    filename_pattern=r\"^[a-zA-Z0-9_\\-]+\\.(pdf|doc|docx|txt)$\",\n    on_filename_error_detail=\"Filename must contain only letters, numbers, hyphens, and underscores\"\n)\n\n@app.post(\"/upload/\")\nasync def upload_with_filename_validation(\n    file: UploadFile = Depends(strict_filename_validator)\n):\n    return {\"filename\": file.filename}\n</code></pre>"},{"location":"examples/#image-processing","title":"Image Processing","text":""},{"location":"examples/#profile-photo-upload","title":"Profile Photo Upload","text":"<p>Validate profile photos with size and dimension constraints:</p> <pre><code>from fastapi_assets.validators import ImageValidator\n\n# Profile photo validator\nprofile_validator = ImageValidator(\n    max_size=\"2MB\",\n    min_size=\"100KB\",\n    allowed_formats=[\"JPEG\", \"PNG\"],\n    min_resolution=(200, 200),\n    max_resolution=(4000, 4000),\n    on_size_error_detail=\"Profile photo must be between 100KB and 2MB\",\n    on_dimension_error_detail=\"Image must be at least 200x200 pixels\"\n)\n\n@app.post(\"/profile/photo/\")\nasync def upload_profile_photo(\n    file: UploadFile = Depends(profile_validator)\n):\n    \"\"\"Upload and validate a profile photo.\"\"\"\n    return {\n        \"filename\": file.filename,\n        \"status\": \"validated\",\n        \"message\": \"Profile photo updated successfully\"\n    }\n</code></pre>"},{"location":"examples/#avatar-upload","title":"Avatar Upload","text":"<p>Strict square image validation for avatars:</p> <pre><code># Avatar validator - strict square format\navatar_validator = ImageValidator(\n    max_size=\"512KB\",\n    allowed_formats=[\"PNG\"],\n    min_resolution=(64, 64),\n    max_resolution=(256, 256),\n    aspect_ratios=[\"1:1\"],\n)\n\n@app.post(\"/avatar/\")\nasync def upload_avatar(file: UploadFile = Depends(avatar_validator)):\n    \"\"\"Upload user avatar.\"\"\"\n    return {\"filename\": file.filename, \"type\": \"avatar\"}\n</code></pre>"},{"location":"examples/#bannerhero-image","title":"Banner/Hero Image","text":"<p>Landscape image validation:</p> <pre><code># Banner validator - landscape format\nbanner_validator = ImageValidator(\n    max_size=\"10MB\",\n    allowed_formats=[\"JPEG\", \"PNG\", \"WebP\"],\n    min_resolution=(1920, 1080),\n    aspect_ratios=[\"16:9\", \"4:3\"],\n)\n\n@app.post(\"/banner/\")\nasync def upload_banner(file: UploadFile = Depends(banner_validator)):\n    \"\"\"Upload banner image.\"\"\"\n    return {\"filename\": file.filename, \"type\": \"banner\"}\n</code></pre>"},{"location":"examples/#image-gallery-upload","title":"Image Gallery Upload","text":"<p>Multiple image format support:</p> <pre><code># Gallery validator - flexible dimensions\ngallery_validator = ImageValidator(\n    max_size=\"8MB\",\n    allowed_formats=[\"JPEG\", \"PNG\", \"WebP\", \"GIF\"],\n   min_resolution=(800, 600),\n   max_resolution=(5000, 5000),\n)\n\n@app.post(\"/gallery/images/\")\nasync def upload_gallery_image(file: UploadFile = Depends(gallery_validator)):\n    \"\"\"Upload image to gallery.\"\"\"\n    return {\"filename\": file.filename, \"type\": \"gallery\"}\n</code></pre>"},{"location":"examples/#csv-import","title":"CSV Import","text":""},{"location":"examples/#user-data-import","title":"User Data Import","text":"<p>Import user data from CSV with schema validation:</p> <pre><code>from fastapi_assets.validators import CSVValidator\n\n# User data CSV validator\nuser_csv_validator = CSVValidator(\n    max_size=\"5MB\",\n    encoding=\"utf-8\",\n    delimiter=\",\",\n    required_columns=[\"id\", \"name\", \"email\", \"phone\"],\n    min_rows=1,\n    max_rows=10000,\n    on_columns_error_detail=\"CSV must contain: id, name, email, phone\"\n)\n\n@app.post(\"/import/users/\")\nasync def import_users(file: UploadFile = Depends(user_csv_validator)):\n    \"\"\"Import users from CSV.\"\"\"\n    # In real app, you would parse and import the data\n    return {\n        \"filename\": file.filename,\n        \"status\": \"imported\",\n        \"message\": \"Users imported successfully\"\n    }\n</code></pre>"},{"location":"examples/#sales-data-import","title":"Sales Data Import","text":"<p>CSV with flexible encoding support:</p> <pre><code># Sales data validator\nsales_validator = CSVValidator(\n    max_size=\"50MB\",\n    encoding=[\"utf-8\", \"latin-1\"],  # Support multiple encodings\n    delimiter=\",\",\n    required_columns=[\"date\", \"product_id\", \"quantity\", \"price\"],\n    disallowed_columns=[\"internal_notes\", \"cost\"],\n    min_rows=1,\n    max_rows=100000,\n    header_check_only=True  # Don't validate every row for performance\n)\n\n@app.post(\"/import/sales/\")\nasync def import_sales(file: UploadFile = Depends(sales_validator)):\n    \"\"\"Import sales data from CSV.\"\"\"\n    return {\n        \"filename\": file.filename,\n        \"status\": \"imported\",\n        \"message\": \"Sales data imported successfully\"\n    }\n</code></pre>"},{"location":"examples/#student-records-import","title":"Student Records Import","text":"<p>CSV with strict column validation:</p> <pre><code># Student records validator\nstudent_csv_validator = CSVValidator(\n    max_size=\"10MB\",\n    encoding=\"utf-8\",\n    delimiter=\",\",\n    required_columns=[\"student_id\", \"first_name\", \"last_name\", \"email\", \"grade\"],\n    disallowed_columns=[\"ssn\", \"password\"],  # Never allow sensitive data\n    min_rows=1,\n    max_rows=50000\n)\n\n@app.post(\"/import/students/\")\nasync def import_student_records(file: UploadFile = Depends(student_csv_validator)):\n    \"\"\"Import student records.\"\"\"\n    return {\n        \"filename\": file.filename,\n        \"status\": \"imported\"\n    }\n</code></pre>"},{"location":"examples/#request-parameter-validation","title":"Request Parameter Validation","text":""},{"location":"examples/#query-parameter-validation","title":"Query Parameter Validation","text":"<p>Validate pagination and filtering:</p> <pre><code>from fastapi_assets.request_validators import QueryValidator\n\napp = FastAPI()\n\n# Pagination parameters\npage_validator = QueryValidator(\n    \"page\",\n    _type=int,\n    default=1,\n    ge=1,\n    le=1000\n)\n\nper_page_validator = QueryValidator(\n    \"per_page\",\n    _type=int,\n    default=20,\n    ge=1,\n    le=100\n)\n\n# Status filter\nstatus_validator = QueryValidator(\n    \"status\",\n    _type=str,\n    allowed_values=[\"active\", \"inactive\", \"pending\"],\n    default=\"active\"\n)\n\n@app.get(\"/items/\")\nasync def list_items(\n    page: int = Depends(page_validator()),\n    per_page: int = Depends(per_page_validator()),\n    status: str = Depends(status_validator())\n):\n    \"\"\"List items with pagination and filtering.\"\"\"\n    return {\n        \"page\": page,\n        \"per_page\": per_page,\n        \"status\": status,\n        \"total\": 1000\n    }\n</code></pre>"},{"location":"examples/#header-validation","title":"Header Validation","text":"<p>Validate authorization and custom headers:</p> <pre><code>from fastapi_assets.request_validators import HeaderValidator\n\napp = FastAPI()\n\n# Authorization header validator\nauth_validator = HeaderValidator(\n    \"authorization\",\n    pattern=r\"^Bearer [A-Za-z0-9\\-._~\\+\\/]+=*$\"\n)\n\n# API key header validator\napi_key_validator = HeaderValidator(\n    \"x-api-key\",\n    pattern=r\"^[a-f0-9]{32}$\"\n)\n\n@app.get(\"/protected/\")\nasync def protected_endpoint(\n    auth: str = Depends(auth_validator())\n):\n    \"\"\"Protected endpoint requiring authorization.\"\"\"\n    return {\"status\": \"authorized\"}\n\n@app.post(\"/api/data/\")\nasync def api_endpoint(\n    api_key: str = Depends(api_key_validator())\n):\n    \"\"\"API endpoint requiring API key.\"\"\"\n    return {\"status\": \"authenticated\"}\n</code></pre>"},{"location":"examples/#cookie-validation","title":"Cookie Validation","text":"<p>Validate session and preference cookies:</p> <pre><code>from fastapi_assets.request_validators import CookieValidator\n\napp = FastAPI()\n\n# Session cookie validator\nsession_validator = CookieValidator(\n    \"session_id\",\n    pattern=r\"^[a-f0-9]{32}$\"\n)\n\n@app.get(\"/dashboard/\")\nasync def dashboard(\n    session_id: str = Depends(session_validator())\n):\n    \"\"\"Dashboard requiring valid session.\"\"\"\n    return {\"session\": session_id, \"user\": \"john_doe\"}\n</code></pre>"},{"location":"examples/#error-handling","title":"Error Handling","text":""},{"location":"examples/#custom-error-messages","title":"Custom Error Messages","text":"<p>Provide user-friendly error messages:</p> <pre><code>from fastapi_assets.validators import FileValidator\n\n# Validator with custom error messages\nfile_validator = FileValidator(\n    max_size=\"5MB\",\n    min_size=\"100KB\",\n    content_types=[\"application/pdf\"],\n    on_size_error_detail=\"File must be between 100KB and 5MB. Please try again.\",\n    on_type_error_detail=\"Only PDF files are accepted. Please upload a PDF.\",\n    on_filename_error_detail=\"Filename contains invalid characters.\"\n)\n\n@app.post(\"/upload/\")\nasync def upload_file(file: UploadFile = Depends(file_validator)):\n    return {\"filename\": file.filename}\n</code></pre>"},{"location":"examples/#dynamic-error-messages","title":"Dynamic Error Messages","text":"<p>Generate contextual error messages:</p> <pre><code>from fastapi_assets.validators import FileValidator\n\ndef format_size_error(size_bytes):\n    # Convert bytes to human-readable format\n    for unit in ['B', 'KB', 'MB', 'GB']:\n        if size_bytes &lt; 1024:\n            return f\"File is {size_bytes:.1f}{unit}, but maximum is 5MB\"\n        size_bytes /= 1024\n    return \"File is too large\"\n\nfile_validator = FileValidator(\n    max_size=\"5MB\",\n    on_size_error_detail=format_size_error\n)\n\n@app.post(\"/upload/\")\nasync def upload_file(file: UploadFile = Depends(file_validator)):\n    return {\"filename\": file.filename}\n</code></pre>"},{"location":"examples/#global-exception-handler","title":"Global Exception Handler","text":"<p>Custom error response format:</p> <pre><code>from fastapi import FastAPI, HTTPException\nfrom fastapi.responses import JSONResponse\n\napp = FastAPI()\n\n@app.exception_handler(HTTPException)\nasync def http_exception_handler(request, exc):\n    \"\"\"Custom HTTP exception handler.\"\"\"\n    return JSONResponse(\n        status_code=exc.status_code,\n        content={\n            \"success\": False,\n            \"error\": exc.detail,\n            \"path\": str(request.url.path),\n            \"timestamp\": str(datetime.now())\n        }\n    )\n</code></pre>"},{"location":"examples/#advanced-patterns","title":"Advanced Patterns","text":""},{"location":"examples/#reusable-validator-configuration","title":"Reusable Validator Configuration","text":"<p>Create a module for centralized validator definitions:</p> <pre><code># validators.py\nfrom fastapi_assets.validators import FileValidator, ImageValidator, CSVValidator\n\n# Profile validators\nprofile_photo = ImageValidator(\n    max_size=\"2MB\",\n    allowed_formats=[\"JPEG\", \"PNG\"],\n    min_resolution=(200, 200)\n)\n\nprofile_banner = ImageValidator(\n    max_size=\"5MB\",\n    allowed_formats=[\"JPEG\", \"PNG\", \"WebP\"],\n    min_resolution=(1200, 600)\n)\n\n# Document validators\npdf_document = FileValidator(\n    max_size=\"20MB\",\n    content_types=[\"application/pdf\"]\n)\n\nresume = FileValidator(\n    max_size=\"5MB\",\n    content_types=[\"application/pdf\", \"application/msword\"],\n    filename_pattern=r\"^[a-zA-Z0-9_\\-]+\\.(pdf|doc|docx)$\"\n)\n\n# Data validators\nuser_data_csv = CSVValidator(\n    max_size=\"10MB\",\n    required_columns=[\"id\", \"name\", \"email\"],\n    max_rows=50000\n)\n\n# routes.py\nfrom fastapi import FastAPI, UploadFile, Depends\nfrom . import validators\n\napp = FastAPI()\n\n@app.post(\"/profile/photo/\")\nasync def update_profile_photo(\n    file: UploadFile = Depends(validators.profile_photo)\n):\n    return {\"status\": \"updated\"}\n\n@app.post(\"/upload/resume/\")\nasync def upload_resume(\n    file: UploadFile = Depends(validators.resume)\n):\n    return {\"status\": \"uploaded\"}\n\n@app.post(\"/import/users/\")\nasync def import_users(\n    file: UploadFile = Depends(validators.user_data_csv)\n):\n    return {\"status\": \"imported\"}\n</code></pre>"},{"location":"examples/#conditional-validation","title":"Conditional Validation","text":"<p>Validate based on conditions:</p> <pre><code>from fastapi import FastAPI, UploadFile, Depends, Query\nfrom fastapi_assets.validators import FileValidator, ImageValidator\n\napp = FastAPI()\n\n# Validators for different upload types\nimage_validator = ImageValidator(max_size=\"5MB\")\ndocument_validator = FileValidator(max_size=\"20MB\")\n\n@app.post(\"/upload/\")\nasync def upload_file(\n    file: UploadFile = Depends(),\n    upload_type: str = Query(..., regex=\"^(image|document)$\")\n):\n    \"\"\"Upload file with type-specific validation.\"\"\"\n    if upload_type == \"image\":\n        validator = image_validator\n    else:\n        validator = document_validator\n\n    # Validate the file\n    validated_file = await validator(file)\n\n    return {\n        \"type\": upload_type,\n        \"filename\": validated_file.filename\n    }\n</code></pre>"},{"location":"examples/#combined-validators","title":"Combined Validators","text":"<p>Use file and request validators together:</p> <pre><code>from fastapi_assets.validators import ImageValidator\nfrom fastapi_assets.request_validators import QueryValidator\n\napp = FastAPI()\n\nimage_validator = ImageValidator(\n    max_size=\"5MB\",\n    allowed_formats=[\"JPEG\", \"PNG\"]\n)\n\nquality_validator = QueryValidator(\n    \"quality\",\n    _type=str,\n    allowed_values=[\"low\", \"medium\", \"high\"],\n    default=\"medium\"\n)\n\ncompression_validator = QueryValidator(\n    \"compress\",\n    _type=bool,\n    default=False\n)\n\n@app.post(\"/upload/image/\")\nasync def upload_and_process_image(\n    file: UploadFile = Depends(image_validator),\n    quality: str = Depends(quality_validator()),\n    compress: bool = Depends(compression_validator())\n):\n    \"\"\"Upload and process image with options.\"\"\"\n    return {\n        \"filename\": file.filename,\n        \"quality\": quality,\n        \"compress\": compress,\n        \"status\": \"processed\"\n    }\n</code></pre>"},{"location":"examples/#batch-file-upload-with-validation","title":"Batch File Upload with Validation","text":"<p>Handle multiple files with individual validation:</p> <pre><code>from typing import List\n\n@app.post(\"/upload/images/batch/\")\nasync def upload_images_batch(\n    files: List[UploadFile] = Depends()\n):\n    \"\"\"Upload multiple images with validation.\"\"\"\n    results = []\n\n    for file in files:\n        try:\n            # Validate each file\n            validated_file = await image_validator(file)\n            results.append({\n                \"filename\": file.filename,\n                \"status\": \"success\",\n                \"size\": file.size\n            })\n        except Exception as e:\n            results.append({\n                \"filename\": file.filename,\n                \"status\": \"error\",\n                \"error\": str(e)\n            })\n\n    return {\"results\": results}\n</code></pre>"},{"location":"examples/#best-practices","title":"Best Practices","text":"<ol> <li>Define validators once - Create validators in a separate module and reuse them</li> <li>Use meaningful error messages - Help users understand what went wrong</li> <li>Set reasonable limits - Balance security with user experience</li> <li>Log validation failures - Track issues for debugging</li> <li>Test validators - Unit test your validators independently</li> <li>Document requirements - Clearly document file requirements in API docs</li> <li>Consider performance - Use <code>header_check_only=True</code> for large CSV files</li> </ol>"},{"location":"getting-started/","title":"Getting Started with FastAPI Assets","text":"<p>Welcome to FastAPI Assets! This comprehensive guide will help you install, configure, and start using FastAPI Assets in your FastAPI applications.</p>"},{"location":"getting-started/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Installation</li> <li>Basic Setup</li> <li>Your First Validator</li> <li>Common Patterns</li> <li>Error Handling</li> <li>Next Steps</li> </ol>"},{"location":"getting-started/#installation","title":"Installation","text":""},{"location":"getting-started/#requirements","title":"Requirements","text":"<ul> <li>Python 3.10 or higher</li> <li>FastAPI 0.115.0 or higher</li> </ul>"},{"location":"getting-started/#basic-installation","title":"Basic Installation","text":"<p>To install FastAPI Assets with core functionality:</p> <pre><code>pip install fastapi-assets\n</code></pre>"},{"location":"getting-started/#installation-with-optional-dependencies","title":"Installation with Optional Dependencies","text":"<p>For image validation support:</p> <pre><code>pip install fastapi-assets[image]\n</code></pre> <p>For CSV validation support:</p> <pre><code>pip install fastapi-assets[pandas]\n</code></pre> <p>For all features:</p> <pre><code>pip install fastapi-assets[image,pandas]\n</code></pre>"},{"location":"getting-started/#verify-installation","title":"Verify Installation","text":"<p>To verify that FastAPI Assets is installed correctly:</p> <pre><code>import fastapi_assets\nprint(fastapi_assets.__version__)\n</code></pre>"},{"location":"getting-started/#basic-setup","title":"Basic Setup","text":""},{"location":"getting-started/#minimal-fastapi-application","title":"Minimal FastAPI Application","text":"<p>Here's a minimal FastAPI application with FastAPI Assets:</p> <pre><code>from fastapi import FastAPI, UploadFile, Depends\nfrom fastapi_assets.validators import FileValidator\n\napp = FastAPI()\n\n# Create a file validator instance\nfile_validator = FileValidator(\n    max_size=\"10MB\",\n    content_types=[\"image/jpeg\", \"image/png\"]\n)\n\n@app.post(\"/upload/\")\nasync def upload_file(file: UploadFile = Depends(file_validator)):\n    \"\"\"Upload and validate a file.\"\"\"\n    return {\n        \"filename\": file.filename,\n        \"content_type\": file.content_type\n    }\n\nif __name__ == \"__main__\":\n    import uvicorn\n    uvicorn.run(app, host=\"0.0.0.0\", port=8000)\n</code></pre>"},{"location":"getting-started/#your-first-validator","title":"Your First Validator","text":""},{"location":"getting-started/#file-upload-validation","title":"File Upload Validation","text":"<p>FileValidator is the foundation for all file validation in FastAPI Assets. Here's how to use it:</p> <pre><code>from fastapi import FastAPI, UploadFile, Depends\nfrom fastapi_assets.validators import FileValidator\n\napp = FastAPI()\n\n# Create validators for different use cases\nprofile_photo_validator = FileValidator(\n    max_size=\"2MB\",\n    min_size=\"10KB\",\n    content_types=[\"image/jpeg\", \"image/png\", \"image/gif\"],\n    filename_pattern=r\"^[\\w\\s-]+\\.(jpg|jpeg|png|gif)$\"\n)\n\ndocument_validator = FileValidator(\n    max_size=\"20MB\",\n    content_types=[\"application/pdf\", \"application/msword\"]\n)\n\n@app.post(\"/upload/profile-photo/\")\nasync def upload_profile_photo(\n    file: UploadFile = Depends(profile_photo_validator)\n):\n    \"\"\"Upload a profile photo with validation.\"\"\"\n    return {\"filename\": file.filename, \"size\": file.size}\n\n@app.post(\"/upload/document/\")\nasync def upload_document(\n    file: UploadFile = Depends(document_validator)\n):\n    \"\"\"Upload a document with validation.\"\"\"\n    return {\"filename\": file.filename}\n</code></pre>"},{"location":"getting-started/#image-validation","title":"Image Validation","text":"<p>For specialized image validation with Pillow:</p> <pre><code>from fastapi_assets.validators import ImageValidator\n\napp = FastAPI()\n\nimage_validator = ImageValidator(\n    max_size=\"5MB\",\n    allowed_formats=[\"JPEG\", \"PNG\"],\n    min_resolution=(800, 600),\n    max_resolution=(4000, 4000),\n    aspect_ratios=[\"1:1\", \"16:9\"]\n)\n\n@app.post(\"/upload/image/\")\nasync def upload_image(file: UploadFile = Depends(image_validator)):\n    \"\"\"Upload and validate an image file.\"\"\"\n    return {\"filename\": file.filename, \"status\": \"validated\"}\n</code></pre>"},{"location":"getting-started/#csv-validation","title":"CSV Validation","text":"<p>For CSV file validation with schema checking:</p> <pre><code>from fastapi_assets.validators import CSVValidator\n\napp = FastAPI()\n\ncsv_validator = CSVValidator(\n    encoding=\"utf-8\",\n    delimiter=\",\",\n    required_columns=[\"id\", \"name\", \"email\"],\n    disallowed_columns=[\"password\"],\n    min_rows=1,\n    max_rows=10000\n)\n\n@app.post(\"/upload/csv/\")\nasync def upload_csv(file: UploadFile = Depends(csv_validator)):\n    \"\"\"Upload and validate a CSV file.\"\"\"\n    return {\"filename\": file.filename, \"status\": \"validated\"}\n</code></pre>"},{"location":"getting-started/#common-patterns","title":"Common Patterns","text":""},{"location":"getting-started/#reusable-validators","title":"Reusable Validators","text":"<p>It's best practice to define validators once and reuse them:</p> <pre><code># validators.py\nfrom fastapi_assets.validators import FileValidator, ImageValidator\n\n# Profile images\nprofile_image_validator = ImageValidator(\n    max_size=\"2MB\",\n    allowed_formats=[\"JPEG\", \"PNG\"],\n    min_resolution=(200, 200)\n)\n\n# Documents\npdf_validator = FileValidator(\n    max_size=\"10MB\",\n    content_types=[\"application/pdf\"]\n)\n\n# Avatars\navatar_validator = ImageValidator(\n    max_size=\"512KB\",\n    allowed_formats=[\"PNG\"],\n    min_resolution=(64, 64),\n    max_resolution=(256, 256),\n)\n</code></pre> <p>Then import and use in your routes:</p> <pre><code># routes.py\nfrom fastapi import FastAPI, UploadFile, Depends\nfrom .validators import profile_image_validator, pdf_validator, avatar_validator\n\napp = FastAPI()\n\n@app.post(\"/profile/photo/\")\nasync def update_profile_photo(\n    file: UploadFile = Depends(profile_image_validator)\n):\n    return {\"status\": \"uploaded\"}\n\n@app.post(\"/submit/document/\")\nasync def submit_document(\n    file: UploadFile = Depends(pdf_validator)\n):\n    return {\"status\": \"submitted\"}\n\n@app.post(\"/avatar/\")\nasync def upload_avatar(\n    file: UploadFile = Depends(avatar_validator)\n):\n    return {\"status\": \"updated\"}\n</code></pre>"},{"location":"getting-started/#multiple-validators","title":"Multiple Validators","text":"<p>You can combine multiple validators in a single endpoint:</p> <pre><code>from fastapi_assets.validators import FileValidator, ImageValidator\nfrom fastapi_assets.request_validators import QueryValidator\n\napp = FastAPI()\n\nimage_validator = ImageValidator(max_size=\"5MB\")\nquality_validator = QueryValidator(\n    \"quality\",\n    _type=str,\n    allowed_values=[\"high\", \"medium\", \"low\"]\n)\n\n@app.post(\"/process/image/\")\nasync def process_image(\n    file: UploadFile = Depends(image_validator),\n    quality: str = Depends(quality_validator())\n):\n    \"\"\"Process an image with specified quality.\"\"\"\n    return {\"filename\": file.filename, \"quality\": quality}\n</code></pre>"},{"location":"getting-started/#custom-error-messages","title":"Custom Error Messages","text":"<p>Customize validation error messages:</p> <pre><code>file_validator = FileValidator(\n    max_size=\"5MB\",\n    min_size=\"100KB\",\n    content_types=[\"image/*\"],\n    on_size_error_detail=\"File must be between 100KB and 5MB\",\n    on_type_error_detail=\"Only image files are allowed\",\n    on_filename_error_detail=\"Filename contains invalid characters\"\n)\n</code></pre>"},{"location":"getting-started/#dynamic-error-messages","title":"Dynamic Error Messages","text":"<p>Use callables for dynamic error messages:</p> <pre><code>def size_error_message(value):\n    return f\"File size {value} bytes exceeds the limit\"\n\nfile_validator = FileValidator(\n    max_size=\"5MB\",\n    on_size_error_detail=size_error_message\n)\n</code></pre>"},{"location":"getting-started/#error-handling","title":"Error Handling","text":""},{"location":"getting-started/#understanding-validation-errors","title":"Understanding Validation Errors","text":"<p>When validation fails, FastAPI Assets raises HTTPException with appropriate status codes:</p> <pre><code># Automatic error handling\n@app.post(\"/upload/\")\nasync def upload_file(file: UploadFile = Depends(file_validator)):\n    # If validation fails, a 400 error is automatically returned\n    return {\"filename\": file.filename}\n</code></pre>"},{"location":"getting-started/#common-error-status-codes","title":"Common Error Status Codes","text":"<ul> <li>400: Bad Request - Validation failed (default)</li> <li>413: Payload Too Large - File exceeds max_size</li> <li>415: Unsupported Media Type - Content type not allowed</li> </ul>"},{"location":"getting-started/#custom-status-codes","title":"Custom Status Codes","text":"<pre><code>file_validator = FileValidator(\n    max_size=\"5MB\",\n    status_code=422  # Unprocessable Entity\n)\n</code></pre>"},{"location":"getting-started/#request-parameter-validation","title":"Request Parameter Validation","text":""},{"location":"getting-started/#query-parameters","title":"Query Parameters","text":"<pre><code>from fastapi_assets.request_validators import QueryValidator\n\napp = FastAPI()\n\npage_validator = QueryValidator(\n    \"page\",\n    _type=int,\n    default=1,\n    ge=1,\n    le=1000\n)\n\nsort_validator = QueryValidator(\n    \"sort\",\n    _type=str,\n    allowed_values=[\"name\", \"date\", \"size\"],\n    default=\"name\"\n)\n\n@app.get(\"/items/\")\nasync def list_items(\n    page: int = Depends(page_validator()),\n    sort: str = Depends(sort_validator())\n):\n    return {\"page\": page, \"sort\": sort}\n</code></pre>"},{"location":"getting-started/#header-validation","title":"Header Validation","text":"<pre><code>from fastapi_assets.request_validators import HeaderValidator\n\napp = FastAPI()\n\nauth_header_validator = HeaderValidator(\n    \"authorization\",\n    pattern=r\"^Bearer [A-Za-z0-9\\-._~\\+\\/]+=*$\"\n)\n\n@app.get(\"/protected/\")\nasync def protected_endpoint(\n    authorization: str = Depends(auth_header_validator())\n):\n    return {\"status\": \"authorized\"}\n</code></pre>"},{"location":"getting-started/#cookie-validation","title":"Cookie Validation","text":"<pre><code>from fastapi_assets.request_validators import CookieValidator\n\napp = FastAPI()\n\nsession_cookie_validator = CookieValidator(\n    \"session_id\",\n    pattern=r\"^[a-f0-9]{32}$\"\n)\n\n@app.get(\"/dashboard/\")\nasync def dashboard(\n    session_id: str = Depends(session_cookie_validator())\n):\n    return {\"session\": session_id}\n</code></pre>"},{"location":"getting-started/#next-steps","title":"Next Steps","text":"<ul> <li>Read the API Reference for detailed documentation on all validators</li> <li>Check out Examples for real-world use cases</li> <li>Explore Custom Validators to create your own validation logic</li> <li>Review the Contributing Guide if you want to contribute</li> </ul>"},{"location":"getting-started/#additional-resources","title":"Additional Resources","text":"<ul> <li>FastAPI Documentation</li> <li>Pydantic Documentation</li> <li>Starlette Documentation</li> </ul> <p>Need Help?</p> <ul> <li>Open an issue on GitHub</li> </ul>"}]}